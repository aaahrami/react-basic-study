{"ast":null,"code":"/*\nCopyright 2013-2015 ASIAL CORPORATION\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n\n*/\nimport onsElements from '../ons/elements.js';\nimport util from '../ons/util.js';\nimport autoStyle from '../ons/autostyle.js';\nimport ModifierUtil from '../ons/internal/modifier-util.js';\nimport BaseElement from './base/base-element.js';\nimport TabbarElement from './ons-tabbar.js';\nimport contentReady from '../ons/content-ready.js';\nimport { PageLoader, defaultPageLoader } from '../ons/page-loader.js';\nconst defaultClassName = 'tabbar__item';\nconst scheme = {\n  '': 'tabbar--*__item',\n  '.tabbar__button': 'tabbar--*__button'\n};\n/**\n * @element ons-tab\n * @category tabbar\n * @description\n *   [en]Represents a tab inside tab bar. Each `<ons-tab>` represents a page.[/en]\n *   [ja]\n *     タブバーに配置される各アイテムのコンポーネントです。それぞれのons-tabはページを表します。\n *     ons-tab要素の中には、タブに表示されるコンテンツを直接記述することが出来ます。\n *   [/ja]\n * @codepen pGuDL\n * @tutorial vanilla/Reference/tabbar\n * @guide fundamentals.html#managing-pages\n *   [en]Managing multiple pages.[/en]\n *   [ja]複数のページを管理する[/ja]]\n * @guide appsize.html#removing-icon-packs [en]Removing icon packs.[/en][ja][/ja]\n * @guide faq.html#how-can-i-use-custom-icon-packs [en]Adding custom icon packs.[/en][ja][/ja]\n * @seealso ons-tabbar\n *   [en]ons-tabbar component[/en]\n *   [ja]ons-tabbarコンポーネント[/ja]\n * @seealso ons-page\n *   [en]ons-page component[/en]\n *   [ja]ons-pageコンポーネント[/ja]\n * @seealso ons-icon\n *   [en]ons-icon component[/en]\n *   [ja]ons-iconコンポーネント[/ja]\n * @example\n * <ons-tabbar>\n *   <ons-tab\n *     page=\"home.html\"\n *     label=\"Home\"\n *     active>\n *   </ons-tab>\n *   <ons-tab\n *     page=\"settings.html\"\n *     label=\"Settings\"\n *     active>\n *   </ons-tab>\n * </ons-tabbar>\n *\n * <template id=\"home.html\">\n *   ...\n * </template>\n *\n * <template id=\"settings.html\">\n *   ...\n * </template>\n\n */\n\nexport default class TabElement extends BaseElement {\n  /**\n   * @attribute page\n   * @initonly\n   * @type {String}\n   * @description\n   *   [en]The page that is displayed when the tab is tapped.[/en]\n   *   [ja]ons-tabが参照するページへのURLを指定します。[/ja]\n   */\n\n  /**\n   * @attribute icon\n   * @type {String}\n   * @description\n   *   [en]\n   *     The icon name for the tab. Can specify the same icon name as `<ons-icon>`. Check [See also](#seealso) section for more information.\n   *   [/en]\n   *   [ja]\n   *     アイコン名を指定します。ons-iconと同じアイコン名を指定できます。\n   *     個別にアイコンをカスタマイズする場合は、background-imageなどのCSSスタイルを用いて指定できます。\n   *   [/ja]\n   */\n\n  /**\n   * @attribute active-icon\n   * @type {String}\n   * @description\n   *   [en]The name of the icon when the tab is active.[/en]\n   *   [ja]アクティブの際のアイコン名を指定します。[/ja]\n   */\n\n  /**\n   * @attribute label\n   * @type {String}\n   * @description\n   *   [en]The label of the tab item.[/en]\n   *   [ja]アイコン下に表示されるラベルを指定します。[/ja]\n   */\n\n  /**\n   * @attribute badge\n   * @type {String}\n   * @description\n   *   [en]Display a notification badge on top of the tab.[/en]\n   *   [ja]バッジに表示する内容を指定します。[/ja]\n   */\n\n  /**\n   * @attribute active\n   * @description\n   *   [en]This attribute should be set to the tab that is active by default.[/en]\n   *   [ja][/ja]\n   */\n  constructor() {\n    super();\n\n    if (['label', 'icon', 'badge'].some(this.hasAttribute.bind(this))) {\n      this._compile();\n    } else {\n      contentReady(this, () => this._compile());\n    }\n\n    this._pageLoader = defaultPageLoader;\n    this._onClick = this._onClick.bind(this);\n    const {\n      onConnected,\n      onDisconnected\n    } = util.defineListenerProperty(this, 'click');\n    this._connectOnClick = onConnected;\n    this._disconnectOnClick = onDisconnected;\n  }\n\n  set pageLoader(loader) {\n    if (!(loader instanceof PageLoader)) {\n      util.throwPageLoader();\n    }\n\n    this._pageLoader = loader;\n  }\n\n  get pageLoader() {\n    return this._pageLoader;\n  }\n\n  _compile() {\n    autoStyle.prepare(this);\n    this.classList.add(defaultClassName);\n\n    if (this._button) {\n      return;\n    }\n\n    const button = util.create('button.tabbar__button');\n\n    while (this.childNodes[0]) {\n      button.appendChild(this.childNodes[0]);\n    }\n\n    const input = util.create('input', {\n      display: 'none'\n    });\n    input.type = 'radio';\n    this.appendChild(input);\n    this.appendChild(button);\n\n    this._updateButtonContent();\n\n    ModifierUtil.initModifier(this, scheme);\n\n    this._updateRipple();\n  }\n\n  _updateRipple() {\n    this._button && util.updateRipple(this._button, this.hasAttribute('ripple'));\n  }\n\n  _updateButtonContent() {\n    const button = this._button;\n    let iconWrapper = this._icon;\n\n    if (this.hasAttribute('icon')) {\n      iconWrapper = iconWrapper || util.createElement('<div class=\"tabbar__icon\"><ons-icon></ons-icon></div>');\n      const icon = iconWrapper.children[0];\n\n      const fix = (last => () => icon.attributeChangedCallback('icon', last, this.getAttribute('icon')))(icon.getAttribute('icon'));\n\n      if (this.hasAttribute('icon') && this.hasAttribute('active-icon')) {\n        icon.setAttribute('icon', this.getAttribute(this.isActive() ? 'active-icon' : 'icon'));\n      } else if (this.hasAttribute('icon')) {\n        icon.setAttribute('icon', this.getAttribute('icon'));\n      }\n\n      iconWrapper.parentElement !== button && button.insertBefore(iconWrapper, button.firstChild); // dirty fix for https://github.com/OnsenUI/OnsenUI/issues/1654\n\n      icon.attributeChangedCallback instanceof Function ? fix() : setImmediate(() => icon.attributeChangedCallback instanceof Function && fix());\n    } else {\n      iconWrapper && iconWrapper.remove();\n    }\n\n    ['label', 'badge'].forEach((attr, index) => {\n      let prop = this.querySelector(`.tabbar__${attr}`);\n\n      if (this.hasAttribute(attr)) {\n        prop = prop || util.create(`.tabbar__${attr}` + (attr === 'badge' ? ' notification' : ''));\n        prop.textContent = this.getAttribute(attr);\n        prop.parentElement !== button && button.appendChild(prop);\n      } else {\n        prop && prop.remove();\n      }\n    });\n  }\n\n  get _input() {\n    return util.findChild(this, 'input');\n  }\n\n  get _button() {\n    return util.findChild(this, '.tabbar__button');\n  }\n\n  get _icon() {\n    return this.querySelector('.tabbar__icon');\n  }\n\n  get _tabbar() {\n    return util.findParent(this, 'ons-tabbar');\n  }\n\n  get index() {\n    return Array.prototype.indexOf.call(this.parentElement.children, this);\n  }\n\n  _onClick(event) {\n    setTimeout(() => {\n      if (!event.defaultPrevented) {\n        this._tabbar.setActiveTab(this.index, {\n          reject: false\n        });\n      }\n    });\n  }\n\n  setActive() {\n    let active = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n    contentReady(this, () => {\n      this._input.checked = active;\n      this.classList.toggle('active', active);\n      util.toggleAttribute(this, 'active', active);\n\n      if (this.hasAttribute('icon') && this.hasAttribute('active-icon')) {\n        this._icon.children[0].setAttribute('icon', this.getAttribute(active ? 'active-icon' : 'icon'));\n      }\n    });\n  }\n\n  _loadPageElement(parent, page) {\n    this._hasLoaded = true;\n    return new Promise(resolve => {\n      this._pageLoader.load({\n        parent,\n        page\n      }, pageElement => {\n        parent.replaceChild(pageElement, parent.children[this.index]); // Ensure position\n\n        this._loadedPage = pageElement;\n        resolve(pageElement);\n      });\n    });\n  }\n\n  get pageElement() {\n    // It has been loaded by ons-tab\n    if (this._loadedPage) {\n      return this._loadedPage;\n    } // Manually attached to DOM, 1 per tab\n\n\n    const tabbar = this._tabbar;\n\n    if (tabbar.pages.length === tabbar.tabs.length) {\n      return tabbar.pages[this.index];\n    } // Loaded in another way\n\n\n    return null;\n  }\n  /**\n   * @return {Boolean}\n   */\n\n\n  isActive() {\n    return this.classList.contains('active');\n  }\n\n  disconnectedCallback() {\n    this.removeEventListener('click', this._onClick, false);\n\n    if (this._loadedPage) {\n      this._hasLoaded = false;\n      this.loaded = null;\n    }\n\n    this._disconnectOnClick();\n  }\n\n  connectedCallback() {\n    this.addEventListener('click', this._onClick, false);\n\n    if (!util.isAttached(this) || this.loaded) {\n      return; // ons-tabbar compilation may trigger this\n    }\n\n    const deferred = util.defer();\n    this.loaded = deferred.promise;\n    contentReady(this, () => {\n      const index = this.index;\n      const tabbar = this._tabbar;\n\n      if (!tabbar) {\n        util.throw('Tab elements must be children of Tabbar');\n      }\n\n      if (tabbar.hasAttribute('modifier')) {\n        util.addModifier(this, tabbar.getAttribute('modifier'));\n      }\n\n      if (!this._hasLoaded) {\n        if (this.hasAttribute('active')) {\n          this.setActive(true);\n          tabbar.activeIndex = index;\n        }\n\n        if (index === tabbar.tabs.length - 1) {\n          tabbar._onRefresh();\n\n          setImmediate(() => tabbar._onRefresh());\n        }\n\n        TabbarElement.rewritables.ready(tabbar, () => {\n          const pageTarget = this.page || this.getAttribute('page');\n\n          if (!this.pageElement && pageTarget) {\n            const parentTarget = tabbar._targetElement;\n            const dummyPage = util.create('div', {\n              height: '100%',\n              width: '100%',\n              visibility: 'hidden'\n            });\n            parentTarget.insertBefore(dummyPage, parentTarget.children[index]); // Ensure position\n\n            const load = () => this._loadPageElement(parentTarget, pageTarget).then(deferred.resolve);\n\n            return this.isActive() ? load() : tabbar._loadInactive.promise.then(load);\n          }\n\n          return deferred.resolve(this.pageElement);\n        });\n      }\n    });\n\n    this._connectOnClick();\n  }\n\n  static get observedAttributes() {\n    return ['modifier', 'ripple', 'icon', 'label', 'page', 'badge', 'class'];\n  }\n\n  attributeChangedCallback(name, last, current) {\n    switch (name) {\n      case 'class':\n        util.restoreClass(this, defaultClassName, scheme);\n        break;\n\n      case 'modifier':\n        contentReady(this, () => ModifierUtil.onModifierChanged(last, current, this, scheme));\n        break;\n\n      case 'ripple':\n        contentReady(this, () => this._updateRipple());\n        break;\n\n      case 'icon':\n      case 'label':\n      case 'badge':\n        contentReady(this, () => this._updateButtonContent());\n        break;\n\n      case 'page':\n        this.page = current || '';\n        break;\n    }\n  }\n\n}\nonsElements.Tab = TabElement;\ncustomElements.define('ons-tab', TabElement);","map":{"version":3,"names":["onsElements","util","autoStyle","ModifierUtil","BaseElement","TabbarElement","contentReady","PageLoader","defaultPageLoader","defaultClassName","scheme","TabElement","constructor","some","hasAttribute","bind","_compile","_pageLoader","_onClick","onConnected","onDisconnected","defineListenerProperty","_connectOnClick","_disconnectOnClick","pageLoader","loader","throwPageLoader","prepare","classList","add","_button","button","create","childNodes","appendChild","input","display","type","_updateButtonContent","initModifier","_updateRipple","updateRipple","iconWrapper","_icon","createElement","icon","children","fix","last","attributeChangedCallback","getAttribute","setAttribute","isActive","parentElement","insertBefore","firstChild","Function","setImmediate","remove","forEach","attr","index","prop","querySelector","textContent","_input","findChild","_tabbar","findParent","Array","prototype","indexOf","call","event","setTimeout","defaultPrevented","setActiveTab","reject","setActive","active","checked","toggle","toggleAttribute","_loadPageElement","parent","page","_hasLoaded","Promise","resolve","load","pageElement","replaceChild","_loadedPage","tabbar","pages","length","tabs","contains","disconnectedCallback","removeEventListener","loaded","connectedCallback","addEventListener","isAttached","deferred","defer","promise","throw","addModifier","activeIndex","_onRefresh","rewritables","ready","pageTarget","parentTarget","_targetElement","dummyPage","height","width","visibility","then","_loadInactive","observedAttributes","name","current","restoreClass","onModifierChanged","Tab","customElements","define"],"sources":["C:/React-app/test/ui/node_modules/onsenui/esm/elements/ons-tab.js"],"sourcesContent":["/*\nCopyright 2013-2015 ASIAL CORPORATION\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n\n*/\n\nimport onsElements from '../ons/elements.js';\nimport util from '../ons/util.js';\nimport autoStyle from '../ons/autostyle.js';\nimport ModifierUtil from '../ons/internal/modifier-util.js';\nimport BaseElement from './base/base-element.js';\nimport TabbarElement from './ons-tabbar.js';\nimport contentReady from '../ons/content-ready.js';\nimport { PageLoader, defaultPageLoader } from '../ons/page-loader.js';\n\nconst defaultClassName = 'tabbar__item';\n\nconst scheme = {\n  '': 'tabbar--*__item',\n  '.tabbar__button': 'tabbar--*__button'\n};\n\n/**\n * @element ons-tab\n * @category tabbar\n * @description\n *   [en]Represents a tab inside tab bar. Each `<ons-tab>` represents a page.[/en]\n *   [ja]\n *     タブバーに配置される各アイテムのコンポーネントです。それぞれのons-tabはページを表します。\n *     ons-tab要素の中には、タブに表示されるコンテンツを直接記述することが出来ます。\n *   [/ja]\n * @codepen pGuDL\n * @tutorial vanilla/Reference/tabbar\n * @guide fundamentals.html#managing-pages\n *   [en]Managing multiple pages.[/en]\n *   [ja]複数のページを管理する[/ja]]\n * @guide appsize.html#removing-icon-packs [en]Removing icon packs.[/en][ja][/ja]\n * @guide faq.html#how-can-i-use-custom-icon-packs [en]Adding custom icon packs.[/en][ja][/ja]\n * @seealso ons-tabbar\n *   [en]ons-tabbar component[/en]\n *   [ja]ons-tabbarコンポーネント[/ja]\n * @seealso ons-page\n *   [en]ons-page component[/en]\n *   [ja]ons-pageコンポーネント[/ja]\n * @seealso ons-icon\n *   [en]ons-icon component[/en]\n *   [ja]ons-iconコンポーネント[/ja]\n * @example\n * <ons-tabbar>\n *   <ons-tab\n *     page=\"home.html\"\n *     label=\"Home\"\n *     active>\n *   </ons-tab>\n *   <ons-tab\n *     page=\"settings.html\"\n *     label=\"Settings\"\n *     active>\n *   </ons-tab>\n * </ons-tabbar>\n *\n * <template id=\"home.html\">\n *   ...\n * </template>\n *\n * <template id=\"settings.html\">\n *   ...\n * </template>\n\n */\nexport default class TabElement extends BaseElement {\n\n  /**\n   * @attribute page\n   * @initonly\n   * @type {String}\n   * @description\n   *   [en]The page that is displayed when the tab is tapped.[/en]\n   *   [ja]ons-tabが参照するページへのURLを指定します。[/ja]\n   */\n\n  /**\n   * @attribute icon\n   * @type {String}\n   * @description\n   *   [en]\n   *     The icon name for the tab. Can specify the same icon name as `<ons-icon>`. Check [See also](#seealso) section for more information.\n   *   [/en]\n   *   [ja]\n   *     アイコン名を指定します。ons-iconと同じアイコン名を指定できます。\n   *     個別にアイコンをカスタマイズする場合は、background-imageなどのCSSスタイルを用いて指定できます。\n   *   [/ja]\n   */\n\n  /**\n   * @attribute active-icon\n   * @type {String}\n   * @description\n   *   [en]The name of the icon when the tab is active.[/en]\n   *   [ja]アクティブの際のアイコン名を指定します。[/ja]\n   */\n\n  /**\n   * @attribute label\n   * @type {String}\n   * @description\n   *   [en]The label of the tab item.[/en]\n   *   [ja]アイコン下に表示されるラベルを指定します。[/ja]\n   */\n\n  /**\n   * @attribute badge\n   * @type {String}\n   * @description\n   *   [en]Display a notification badge on top of the tab.[/en]\n   *   [ja]バッジに表示する内容を指定します。[/ja]\n   */\n\n  /**\n   * @attribute active\n   * @description\n   *   [en]This attribute should be set to the tab that is active by default.[/en]\n   *   [ja][/ja]\n   */\n\n  constructor() {\n    super();\n\n    if (['label', 'icon', 'badge'].some(this.hasAttribute.bind(this))) {\n      this._compile();\n    } else {\n      contentReady(this, () => this._compile());\n    }\n\n    this._pageLoader = defaultPageLoader;\n    this._onClick = this._onClick.bind(this);\n\n    const {onConnected, onDisconnected} = util.defineListenerProperty(this, 'click');\n    this._connectOnClick = onConnected;\n    this._disconnectOnClick = onDisconnected;\n  }\n\n  set pageLoader(loader) {\n    if (!(loader instanceof PageLoader)) {\n      util.throwPageLoader();\n    }\n    this._pageLoader = loader;\n  }\n\n  get pageLoader() {\n    return this._pageLoader;\n  }\n\n  _compile() {\n    autoStyle.prepare(this);\n    this.classList.add(defaultClassName);\n\n    if (this._button) {\n      return;\n    }\n\n    const button = util.create('button.tabbar__button');\n    while (this.childNodes[0]) {\n      button.appendChild(this.childNodes[0]);\n    }\n\n    const input = util.create('input', { display: 'none' });\n    input.type = 'radio';\n\n    this.appendChild(input);\n    this.appendChild(button);\n\n    this._updateButtonContent();\n    ModifierUtil.initModifier(this, scheme);\n    this._updateRipple();\n  }\n\n  _updateRipple() {\n    this._button && util.updateRipple(this._button, this.hasAttribute('ripple'));\n  }\n\n  _updateButtonContent() {\n    const button = this._button;\n\n    let iconWrapper = this._icon;\n    if (this.hasAttribute('icon')) {\n      iconWrapper = iconWrapper || util.createElement('<div class=\"tabbar__icon\"><ons-icon></ons-icon></div>');\n      const icon = iconWrapper.children[0];\n      const fix = (last => () => icon.attributeChangedCallback('icon', last, this.getAttribute('icon')))(icon.getAttribute('icon'));\n      if (this.hasAttribute('icon') && this.hasAttribute('active-icon')) {\n        icon.setAttribute('icon', this.getAttribute(this.isActive() ? 'active-icon' : 'icon'));\n      } else if (this.hasAttribute('icon')) {\n        icon.setAttribute('icon', this.getAttribute('icon'));\n      }\n      iconWrapper.parentElement !== button && button.insertBefore(iconWrapper, button.firstChild);\n\n      // dirty fix for https://github.com/OnsenUI/OnsenUI/issues/1654\n      icon.attributeChangedCallback instanceof Function\n        ? fix()\n        : setImmediate(() => icon.attributeChangedCallback instanceof Function && fix());\n    } else {\n      iconWrapper && iconWrapper.remove();\n    }\n\n    ['label', 'badge'].forEach((attr, index) => {\n      let prop = this.querySelector(`.tabbar__${attr}`);\n      if (this.hasAttribute(attr)) {\n        prop = prop || util.create(`.tabbar__${attr}` + (attr === 'badge' ? ' notification' : ''));\n        prop.textContent = this.getAttribute(attr);\n        prop.parentElement !== button && button.appendChild(prop);\n      } else {\n        prop && prop.remove();\n      }\n    });\n  }\n\n  get _input() {\n    return util.findChild(this, 'input');\n  }\n\n  get _button() {\n    return util.findChild(this, '.tabbar__button');\n  }\n\n  get _icon() {\n    return this.querySelector('.tabbar__icon');\n  }\n\n  get _tabbar() {\n    return util.findParent(this, 'ons-tabbar');\n  }\n\n  get index() {\n    return Array.prototype.indexOf.call(this.parentElement.children, this);\n  }\n\n  _onClick(event) {\n    setTimeout(() => {\n      if (!event.defaultPrevented) {\n        this._tabbar.setActiveTab(this.index, { reject: false });\n      }\n    });\n  }\n\n  setActive(active = true) {\n    contentReady(this, () => {\n      this._input.checked = active;\n      this.classList.toggle('active', active);\n      util.toggleAttribute(this, 'active', active);\n\n      if (this.hasAttribute('icon') && this.hasAttribute('active-icon')) {\n        this._icon.children[0].setAttribute('icon', this.getAttribute(active ? 'active-icon' : 'icon'));\n      }\n    });\n  }\n\n  _loadPageElement(parent, page) {\n    this._hasLoaded = true;\n\n    return new Promise(resolve => {\n      this._pageLoader.load({ parent, page }, pageElement => {\n        parent.replaceChild(pageElement, parent.children[this.index]); // Ensure position\n        this._loadedPage = pageElement;\n        resolve(pageElement);\n      });\n    });\n  }\n\n  get pageElement() {\n    // It has been loaded by ons-tab\n    if (this._loadedPage) {\n      return this._loadedPage;\n    }\n    // Manually attached to DOM, 1 per tab\n    const tabbar = this._tabbar;\n    if (tabbar.pages.length === tabbar.tabs.length) {\n      return tabbar.pages[this.index];\n    }\n    // Loaded in another way\n    return null;\n  }\n\n  /**\n   * @return {Boolean}\n   */\n  isActive() {\n    return this.classList.contains('active');\n  }\n\n  disconnectedCallback() {\n    this.removeEventListener('click', this._onClick, false);\n    if (this._loadedPage) {\n      this._hasLoaded = false;\n      this.loaded = null;\n    }\n\n    this._disconnectOnClick();\n  }\n\n  connectedCallback() {\n    this.addEventListener('click', this._onClick, false);\n\n    if (!util.isAttached(this) || this.loaded) {\n      return; // ons-tabbar compilation may trigger this\n    }\n\n    const deferred = util.defer();\n    this.loaded = deferred.promise;\n\n    contentReady(this, () => {\n      const index = this.index;\n      const tabbar = this._tabbar;\n      if (!tabbar) {\n        util.throw('Tab elements must be children of Tabbar');\n      }\n\n      if (tabbar.hasAttribute('modifier')) {\n        util.addModifier(this, tabbar.getAttribute('modifier'));\n      }\n\n      if (!this._hasLoaded) {\n        if (this.hasAttribute('active')) {\n          this.setActive(true);\n          tabbar.activeIndex = index;\n        }\n\n        if (index === tabbar.tabs.length - 1) {\n          tabbar._onRefresh();\n          setImmediate(() => tabbar._onRefresh());\n        }\n\n        TabbarElement.rewritables.ready(tabbar, () => {\n          const pageTarget = this.page || this.getAttribute('page');\n          if (!this.pageElement && pageTarget) {\n            const parentTarget = tabbar._targetElement;\n            const dummyPage = util.create('div', { height: '100%', width: '100%', visibility: 'hidden' });\n            parentTarget.insertBefore(dummyPage, parentTarget.children[index]); // Ensure position\n\n            const load = () => this._loadPageElement(parentTarget, pageTarget).then(deferred.resolve);\n            return this.isActive() ? load() : tabbar._loadInactive.promise.then(load);\n          }\n\n          return deferred.resolve(this.pageElement);\n        });\n      }\n    });\n\n    this._connectOnClick();\n  }\n\n  static get observedAttributes() {\n    return ['modifier', 'ripple', 'icon', 'label', 'page', 'badge', 'class'];\n  }\n\n  attributeChangedCallback(name, last, current) {\n    switch (name) {\n      case 'class':\n        util.restoreClass(this, defaultClassName, scheme);\n        break;\n      case 'modifier':\n        contentReady(this, () => ModifierUtil.onModifierChanged(last, current, this, scheme));\n        break;\n      case 'ripple':\n        contentReady(this, () => this._updateRipple());\n        break;\n      case 'icon':\n      case 'label':\n      case 'badge':\n        contentReady(this, () => this._updateButtonContent());\n        break;\n      case 'page':\n        this.page = current || '';\n        break;\n    }\n  }\n}\n\nonsElements.Tab = TabElement;\ncustomElements.define('ons-tab', TabElement);\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,OAAOA,WAAP,MAAwB,oBAAxB;AACA,OAAOC,IAAP,MAAiB,gBAAjB;AACA,OAAOC,SAAP,MAAsB,qBAAtB;AACA,OAAOC,YAAP,MAAyB,kCAAzB;AACA,OAAOC,WAAP,MAAwB,wBAAxB;AACA,OAAOC,aAAP,MAA0B,iBAA1B;AACA,OAAOC,YAAP,MAAyB,yBAAzB;AACA,SAASC,UAAT,EAAqBC,iBAArB,QAA8C,uBAA9C;AAEA,MAAMC,gBAAgB,GAAG,cAAzB;AAEA,MAAMC,MAAM,GAAG;EACb,IAAI,iBADS;EAEb,mBAAmB;AAFN,CAAf;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,eAAe,MAAMC,UAAN,SAAyBP,WAAzB,CAAqC;EAElD;AACF;AACA;AACA;AACA;AACA;AACA;AACA;;EAEE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;EAEE;AACF;AACA;AACA;AACA;AACA;AACA;;EAEE;AACF;AACA;AACA;AACA;AACA;AACA;;EAEE;AACF;AACA;AACA;AACA;AACA;AACA;;EAEE;AACF;AACA;AACA;AACA;AACA;EAEEQ,WAAW,GAAG;IACZ;;IAEA,IAAI,CAAC,OAAD,EAAU,MAAV,EAAkB,OAAlB,EAA2BC,IAA3B,CAAgC,KAAKC,YAAL,CAAkBC,IAAlB,CAAuB,IAAvB,CAAhC,CAAJ,EAAmE;MACjE,KAAKC,QAAL;IACD,CAFD,MAEO;MACLV,YAAY,CAAC,IAAD,EAAO,MAAM,KAAKU,QAAL,EAAb,CAAZ;IACD;;IAED,KAAKC,WAAL,GAAmBT,iBAAnB;IACA,KAA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"},"metadata":{},"sourceType":"module"}