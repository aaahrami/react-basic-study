{"ast":null,"code":"/*\nCopyright 2013-2015 ASIAL CORPORATION\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n\n*/\nimport util from './util.js';\nimport internal from './internal/index.js'; // Default implementation for global PageLoader.\n\nfunction loadPage(_ref, done, error) {\n  let {\n    page,\n    parent,\n    params = {}\n  } = _ref;\n  internal.getPageHTMLAsync(page).then(html => {\n    const pageElement = util.createElement(html);\n    parent.appendChild(pageElement);\n    done(pageElement);\n  }).catch(e => error(e));\n}\n\nfunction unloadPage(element) {\n  if (element._destroy instanceof Function) {\n    element._destroy();\n  } else {\n    element.remove();\n  }\n}\n\nexport class PageLoader {\n  /**\n   * @param {Function} [fn] Returns an object that has \"element\" property and \"unload\" function.\n   */\n  constructor(loader, unloader) {\n    this._loader = loader instanceof Function ? loader : loadPage;\n    this._unloader = unloader instanceof Function ? unloader : unloadPage;\n  }\n  /**\n   * Set internal loader implementation.\n   */\n\n\n  set internalLoader(fn) {\n    if (!(fn instanceof Function)) {\n      throw Error('First parameter must be an instance of Function');\n    }\n\n    this._loader = fn;\n  }\n\n  get internalLoader() {\n    return this._loader;\n  }\n  /**\n   * @param {any} options.page\n   * @param {Element} options.parent A location to load page.\n   * @param {Object} [options.params] Extra parameters for ons-page.\n   * @param {Function} done Take an object that has \"element\" property and \"unload\" function.\n   * @param {Function} error Function called when there is an error.\n   */\n\n\n  load(_ref2, done, error) {\n    let {\n      page,\n      parent,\n      params = {}\n    } = _ref2;\n\n    this._loader({\n      page,\n      parent,\n      params\n    }, pageElement => {\n      if (!(pageElement instanceof Element)) {\n        throw Error('pageElement must be an instance of Element.');\n      }\n\n      done(pageElement);\n    }, error);\n  }\n\n  unload(pageElement) {\n    if (!(pageElement instanceof Element)) {\n      throw Error('pageElement must be an instance of Element.');\n    }\n\n    this._unloader(pageElement);\n  }\n\n}\nexport const defaultPageLoader = new PageLoader();\nexport const instantPageLoader = new PageLoader(function (_ref3, done) {\n  let {\n    page,\n    parent,\n    params = {}\n  } = _ref3;\n  const element = util.createElement(page.trim());\n  parent.appendChild(element);\n  done(element);\n}, unloadPage);","map":{"version":3,"names":["util","internal","loadPage","done","error","page","parent","params","getPageHTMLAsync","then","html","pageElement","createElement","appendChild","catch","e","unloadPage","element","_destroy","Function","remove","PageLoader","constructor","loader","unloader","_loader","_unloader","internalLoader","fn","Error","load","Element","unload","defaultPageLoader","instantPageLoader","trim"],"sources":["C:/React-app/ui/node_modules/onsenui/esm/ons/page-loader.js"],"sourcesContent":["/*\nCopyright 2013-2015 ASIAL CORPORATION\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n\n*/\nimport util from './util.js';\nimport internal from './internal/index.js';\n\n// Default implementation for global PageLoader.\nfunction loadPage({page, parent, params = {}}, done, error) {\n  internal.getPageHTMLAsync(page).then(html => {\n    const pageElement = util.createElement(html);\n    parent.appendChild(pageElement);\n\n    done(pageElement);\n  }).catch(e => error(e));\n}\n\nfunction unloadPage(element) {\n  if (element._destroy instanceof Function) {\n    element._destroy();\n  } else {\n    element.remove();\n  }\n}\n\nexport class PageLoader {\n  /**\n   * @param {Function} [fn] Returns an object that has \"element\" property and \"unload\" function.\n   */\n  constructor(loader, unloader) {\n    this._loader = loader instanceof Function ? loader : loadPage;\n    this._unloader = unloader instanceof Function ? unloader : unloadPage;\n  }\n\n  /**\n   * Set internal loader implementation.\n   */\n  set internalLoader(fn) {\n    if (!(fn instanceof Function)) {\n      throw Error('First parameter must be an instance of Function');\n    }\n    this._loader = fn;\n  }\n\n  get internalLoader() {\n    return this._loader;\n  }\n\n  /**\n   * @param {any} options.page\n   * @param {Element} options.parent A location to load page.\n   * @param {Object} [options.params] Extra parameters for ons-page.\n   * @param {Function} done Take an object that has \"element\" property and \"unload\" function.\n   * @param {Function} error Function called when there is an error.\n   */\n  load({page, parent, params = {}}, done, error) {\n    this._loader({page, parent, params}, pageElement => {\n      if (!(pageElement instanceof Element)) {\n        throw Error('pageElement must be an instance of Element.');\n      }\n\n      done(pageElement);\n    }, error);\n  }\n\n  unload(pageElement) {\n    if (!(pageElement instanceof Element)) {\n      throw Error('pageElement must be an instance of Element.');\n    }\n\n    this._unloader(pageElement);\n  }\n}\n\nexport const defaultPageLoader = new PageLoader();\n\nexport const instantPageLoader = new PageLoader(\n  function({page, parent, params = {}}, done) {\n    const element = util.createElement(page.trim());\n    parent.appendChild(element);\n\n    done(element);\n  },\n  unloadPage\n);\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAOA,IAAP,MAAiB,WAAjB;AACA,OAAOC,QAAP,MAAqB,qBAArB,C,CAEA;;AACA,SAASC,QAAT,OAA+CC,IAA/C,EAAqDC,KAArD,EAA4D;EAAA,IAA1C;IAACC,IAAD;IAAOC,MAAP;IAAeC,MAAM,GAAG;EAAxB,CAA0C;EAC1DN,QAAQ,CAACO,gBAAT,CAA0BH,IAA1B,EAAgCI,IAAhC,CAAqCC,IAAI,IAAI;IAC3C,MAAMC,WAAW,GAAGX,IAAI,CAACY,aAAL,CAAmBF,IAAnB,CAApB;IACAJ,MAAM,CAACO,WAAP,CAAmBF,WAAnB;IAEAR,IAAI,CAACQ,WAAD,CAAJ;EACD,CALD,EAKGG,KALH,CAKSC,CAAC,IAAIX,KAAK,CAACW,CAAD,CALnB;AAMD;;AAED,SAASC,UAAT,CAAoBC,OAApB,EAA6B;EAC3B,IAAIA,OAAO,CAACC,QAAR,YAA4BC,QAAhC,EAA0C;IACxCF,OAAO,CAACC,QAAR;EACD,CAFD,MAEO;IACLD,OAAO,CAACG,MAAR;EACD;AACF;;AAED,OAAO,MAAMC,UAAN,CAAiB;EACtB;AACF;AACA;EACEC,WAAW,CAACC,MAAD,EAASC,QAAT,EAAmB;IAC5B,KAAKC,OAAL,GAAeF,MAAM,YAAYJ,QAAlB,GAA6BI,MAA7B,GAAsCrB,QAArD;IACA,KAAKwB,SAAL,GAAiBF,QAAQ,YAAYL,QAApB,GAA+BK,QAA/B,GAA0CR,UAA3D;EACD;EAED;AACF;AACA;;;EACoB,IAAdW,cAAc,CAACC,EAAD,EAAK;IACrB,IAAI,EAAEA,EAAE,YAAYT,QAAhB,CAAJ,EAA+B;MAC7B,MAAMU,KAAK,CAAC,iDAAD,CAAX;IACD;;IACD,KAAKJ,OAAL,GAAeG,EAAf;EACD;;EAEiB,IAAdD,cAAc,GAAG;IACnB,OAAO,KAAKF,OAAZ;EACD;EAED;AACF;AACA;AACA;AACA;AACA;AACA;;;EACEK,IAAI,QAA8B3B,IAA9B,EAAoCC,KAApC,EAA2C;IAAA,IAA1C;MAACC,IAAD;MAAOC,MAAP;MAAeC,MAAM,GAAG;IAAxB,CAA0C;;IAC7C,KAAKkB,OAAL,CAAa;MAACpB,IAAD;MAAOC,MAAP;MAAeC;IAAf,CAAb,EAAqCI,WAAW,IAAI;MAClD,IAAI,EAAEA,WAAW,YAAYoB,OAAzB,CAAJ,EAAuC;QACrC,MAAMF,KAAK,CAAC,6CAAD,CAAX;MACD;;MAED1B,IAAI,CAACQ,WAAD,CAAJ;IACD,CAND,EAMGP,KANH;EAOD;;EAED4B,MAAM,CAACrB,WAAD,EAAc;IAClB,IAAI,EAAEA,WAAW,YAAYoB,OAAzB,CAAJ,EAAuC;MACrC,MAAMF,KAAK,CAAC,6CAAD,CAAX;IACD;;IAED,KAAKH,SAAL,CAAef,WAAf;EACD;;AA9CqB;AAiDxB,OAAO,MAAMsB,iBAAiB,GAAG,IAAIZ,UAAJ,EAA1B;AAEP,OAAO,MAAMa,iBAAiB,GAAG,IAAIb,UAAJ,CAC/B,iBAAsClB,IAAtC,EAA4C;EAAA,IAAnC;IAACE,IAAD;IAAOC,MAAP;IAAeC,MAAM,GAAG;EAAxB,CAAmC;EAC1C,MAAMU,OAAO,GAAGjB,IAAI,CAACY,aAAL,CAAmBP,IAAI,CAAC8B,IAAL,EAAnB,CAAhB;EACA7B,MAAM,CAACO,WAAP,CAAmBI,OAAnB;EAEAd,IAAI,CAACc,OAAD,CAAJ;AACD,CAN8B,EAO/BD,UAP+B,CAA1B"},"metadata":{},"sourceType":"module"}