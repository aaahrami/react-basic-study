{"ast":null,"code":"/*\nCopyright 2013-2015 ASIAL CORPORATION\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n\n*/\nimport onsElements from './elements.js';\nimport styler from './styler.js';\nimport internal from './internal/index.js';\nimport autoStyle from './autostyle.js';\nimport ModifierUtil from './internal/modifier-util.js';\nimport animationOptionsParse from './animation-options-parser.js';\nimport platform from './platform.js';\nconst util = {};\nconst errorPrefix = '[Onsen UI]';\nutil.globals = {\n  fabOffset: 0,\n  errorPrefix,\n  supportsPassive: false\n};\n\nplatform._runOnActualPlatform(() => {\n  util.globals.actualMobileOS = platform.getMobileOS();\n  util.globals.isWKWebView = platform.isWKWebView();\n});\n\ntry {\n  const opts = Object.defineProperty({}, 'passive', {\n    get() {\n      util.globals.supportsPassive = true;\n    } // eslint-disable-line getter-return\n\n\n  });\n  window.addEventListener('testPassive', null, opts);\n  window.removeEventListener('testPassive', null, opts);\n} catch (e) {\n  null;\n}\n/**\n * @param {Element} el Target\n * @param {String} name Event name\n * @param {Function} handler Event handler\n * @param {Object} [opt] Event options (passive, capture...)\n * @param {Boolean} [isGD] If comes from GestureDetector. Just for testing.\n */\n\n\nutil.addEventListener = (el, name, handler, opt, isGD) => {\n  el.addEventListener(name, handler, util.globals.supportsPassive ? opt : (opt || {}).capture);\n};\n\nutil.removeEventListener = (el, name, handler, opt, isGD) => {\n  el.removeEventListener(name, handler, util.globals.supportsPassive ? opt : (opt || {}).capture);\n};\n/**\n * @param {String/Function} query dot class name or node name or matcher function.\n * @return {Function}\n */\n\n\nutil.prepareQuery = query => {\n  return query instanceof Function ? query : element => util.match(element, query);\n};\n/**\n * @param {Element} e\n * @param {String/Function} s CSS Selector.\n * @return {Boolean}\n */\n\n\nutil.match = (e, s) => (e.matches || e.webkitMatchesSelector || e.mozMatchesSelector || e.msMatchesSelector).call(e, s);\n/**\n * @param {Element} element\n * @param {String/Function} query dot class name or node name or matcher function.\n * @return {HTMLElement/null}\n */\n\n\nutil.findChild = (element, query) => {\n  const match = util.prepareQuery(query); // Caution: `element.children` is `undefined` in some environments if `element` is `svg`\n\n  for (let i = 0; i < element.childNodes.length; i++) {\n    const node = element.childNodes[i];\n\n    if (node.nodeType !== Node.ELEMENT_NODE) {\n      // process only element nodes\n      continue;\n    }\n\n    if (match(node)) {\n      return node;\n    }\n  }\n\n  return null;\n};\n/**\n * @param {Element} element\n * @param {String/Function} query dot class name or node name or matcher function.\n * @return {HTMLElement/null}\n */\n\n\nutil.findParent = (element, query, until) => {\n  const match = util.prepareQuery(query);\n  let parent = element.parentNode;\n\n  for (;;) {\n    if (!parent || parent === document || parent instanceof DocumentFragment || until && until(parent)) {\n      return null;\n    } else if (match(parent)) {\n      return parent;\n    }\n\n    parent = parent.parentNode;\n  }\n};\n/**\n * @param {Element} element\n * @return {boolean}\n */\n\n\nutil.isAttached = element => document.body.contains(element);\n/**\n * @param {Element} element\n * @return {boolean}\n */\n\n\nutil.hasAnyComponentAsParent = element => {\n  while (element && document.documentElement !== element) {\n    element = element.parentNode;\n\n    if (element && element.nodeName.toLowerCase().match(/(ons-navigator|ons-tabbar|ons-modal)/)) {\n      return true;\n    }\n  }\n\n  return false;\n};\n/**\n * @param {Object} element\n * @return {Array}\n */\n\n\nutil.getAllChildNodes = element => {\n  return [element].concat(...Array.from(element.children).map(childEl => {\n    return util.getAllChildNodes(childEl);\n  }));\n};\n/**\n * @param {Element} element\n * @return {boolean}\n */\n\n\nutil.isPageControl = element => element.nodeName.match(/^ons-(navigator|splitter|tabbar|page)$/i);\n/**\n * @param {Element} element\n * @param {String} action to propagate\n */\n\n\nutil.propagateAction = (element, action) => {\n  for (let i = 0; i < element.childNodes.length; i++) {\n    const child = element.childNodes[i];\n\n    if (child[action] instanceof Function) {\n      child[action]();\n    } else {\n      util.propagateAction(child, action);\n    }\n  }\n};\n/**\n * @param {String} string - string to be camelized\n * @return {String} Camelized string\n */\n\n\nutil.camelize = string => string.toLowerCase().replace(/-([a-z])/g, (m, l) => l.toUpperCase());\n/**\n * @param {String} string - string to be hyphenated\n * @return {String} Hyphenated string\n */\n\n\nutil.hyphenate = string => string.replace(/([a-zA-Z])([A-Z])/g, '$1-$2').toLowerCase();\n/**\n * @param {String} selector - tag and class only\n * @param {Object} style\n * @param {Element}\n */\n\n\nutil.create = function () {\n  let selector = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n  let style = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  const classList = selector.split('.');\n  const element = document.createElement(classList.shift() || 'div');\n\n  if (classList.length) {\n    element.className = classList.join(' ');\n  }\n\n  styler(element, style);\n  return element;\n};\n/**\n * @param {String} html\n * @return {Element}\n */\n\n\nutil.createElement = html => {\n  const wrapper = document.createElement('div');\n\n  if (html instanceof DocumentFragment) {\n    wrapper.appendChild(document.importNode(html, true));\n  } else {\n    wrapper.innerHTML = html.trim();\n  }\n\n  if (wrapper.children.length > 1) {\n    util.throw('HTML template must contain a single root element');\n  }\n\n  const element = wrapper.children[0];\n  wrapper.children[0].remove();\n  return element;\n};\n/**\n * @param {String} html\n * @return {HTMLFragment}\n */\n\n\nutil.createFragment = html => {\n  const template = document.createElement('template');\n  template.innerHTML = html;\n  return document.importNode(template.content, true);\n};\n/*\n * @param {Object} dst Destination object.\n * @param {...Object} src Source object(s).\n * @returns {Object} Reference to `dst`.\n */\n\n\nutil.extend = function (dst) {\n  for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    args[_key - 1] = arguments[_key];\n  }\n\n  for (let i = 0; i < args.length; i++) {\n    if (args[i]) {\n      const keys = Object.keys(args[i]);\n\n      for (let j = 0; j < keys.length; j++) {\n        const key = keys[j];\n        dst[key] = args[i][key];\n      }\n    }\n  }\n\n  return dst;\n};\n/**\n * @param {Object} arrayLike\n * @return {Array}\n */\n\n\nutil.arrayFrom = arrayLike => {\n  return Array.prototype.slice.apply(arrayLike);\n};\n/**\n * @param {String} jsonString\n * @param {Object} [failSafe]\n * @return {Object}\n */\n\n\nutil.parseJSONObjectSafely = function (jsonString) {\n  let failSafe = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  try {\n    const result = JSON.parse('' + jsonString);\n\n    if (typeof result === 'object' && result !== null) {\n      return result;\n    }\n  } catch (e) {\n    return failSafe;\n  }\n\n  return failSafe;\n};\n/**\n * @param {String} path - path such as 'myApp.controllers.data.loadData'\n * @return {Any} - whatever is located at that path\n */\n\n\nutil.findFromPath = path => {\n  path = path.split('.');\n  var el = window,\n      key;\n\n  while (key = path.shift()) {\n    // eslint-disable-line no-cond-assign\n    el = el[key];\n  }\n\n  return el;\n};\n/**\n * @param {HTMLElement} container - Page or page-container that implements 'topPage'\n * @return {HTMLElement|null} - Visible page element or null if not found.\n */\n\n\nutil.getTopPage = container => container && (container.tagName.toLowerCase() === 'ons-page' ? container : container.topPage) || null;\n/**\n * @param {HTMLElement} container - Element where the search begins\n * @return {HTMLElement|null} - Page element that contains the visible toolbar or null.\n */\n\n\nutil.findToolbarPage = container => {\n  const page = util.getTopPage(container);\n\n  if (page) {\n    if (page._canAnimateToolbar()) {\n      return page;\n    }\n\n    for (let i = 0; i < page._contentElement.children.length; i++) {\n      const nextPage = util.getTopPage(page._contentElement.children[i]);\n\n      if (nextPage && !/ons-tabbar/i.test(page._contentElement.children[i].tagName)) {\n        return util.findToolbarPage(nextPage);\n      }\n    }\n  }\n\n  return null;\n};\n/**\n * @param {Element} element\n * @param {String} eventName\n * @param {Object} [detail]\n * @return {CustomEvent}\n */\n\n\nutil.triggerElementEvent = function (target, eventName) {\n  let detail = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  const event = new CustomEvent(eventName, {\n    bubbles: true,\n    cancelable: true,\n    detail: detail\n  });\n  Object.keys(detail).forEach(key => {\n    event[key] = detail[key];\n  });\n  target.dispatchEvent(event);\n  return event;\n};\n/**\n * @param {Element} target\n * @param {String} modifierName\n * @return {Boolean}\n */\n\n\nutil.hasModifier = (target, modifierName) => {\n  if (!target.hasAttribute('modifier')) {\n    return false;\n  }\n\n  return RegExp(`(^|\\\\s+)${modifierName}($|\\\\s+)`, 'i').test(target.getAttribute('modifier'));\n};\n/**\n * @param {Element} target\n * @param {String} modifierName\n * @param {Object} options.autoStyle Maps the modifierName to the corresponding styled modifier.\n * @param {Object} options.forceAutoStyle Ignores platform limitation.\n * @return {Boolean} Whether it was added or not.\n */\n\n\nutil.addModifier = function (target, modifierName) {\n  let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n  if (options.autoStyle) {\n    modifierName = autoStyle.mapModifier(modifierName, target, options.forceAutoStyle);\n  }\n\n  if (util.hasModifier(target, modifierName)) {\n    return false;\n  }\n\n  target.setAttribute('modifier', ((target.getAttribute('modifier') || '') + ' ' + modifierName).trim());\n  return true;\n};\n/**\n * @param {Element} target\n * @param {String} modifierName\n * @param {Object} options.autoStyle Maps the modifierName to the corresponding styled modifier.\n * @param {Object} options.forceAutoStyle Ignores platform limitation.\n * @return {Boolean} Whether it was found or not.\n */\n\n\nutil.removeModifier = function (target, modifierName) {\n  let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n  if (options.autoStyle) {\n    modifierName = autoStyle.mapModifier(modifierName, target, options.forceAutoStyle);\n  }\n\n  if (!target.getAttribute('modifier') || !util.hasModifier(target, modifierName)) {\n    return false;\n  }\n\n  const newModifiers = target.getAttribute('modifier').split(/\\s+/).filter(m => m && m !== modifierName);\n  newModifiers.length ? target.setAttribute('modifier', newModifiers.join(' ')) : target.removeAttribute('modifier');\n  return true;\n};\n/**\n * @param {Element} target\n * @param {String} modifierName\n * @param {Boolean} options.force Forces modifier to be added or removed.\n * @param {Object} options.autoStyle Maps the modifierName to the corresponding styled modifier.\n * @param {Boolean} options.forceAutoStyle Ignores platform limitation.\n * @return {Boolean} Whether it was found or not.\n */\n\n\nutil.toggleModifier = function () {\n  const options = arguments.length > 2 ? arguments.length <= 2 ? undefined : arguments[2] : {};\n  const force = typeof options === 'boolean' ? options : options.force;\n  const toggle = typeof force === 'boolean' ? force : !util.hasModifier(...arguments);\n  toggle ? util.addModifier(...arguments) : util.removeModifier(...arguments);\n};\n/**\n * @param {Element} el\n * @param {String} defaultClass\n * @param {Object} scheme\n */\n\n\nutil.restoreClass = (el, defaultClass, scheme) => {\n  defaultClass.split(/\\s+/).forEach(c => c !== '' && !el.classList.contains(c) && el.classList.add(c));\n  el.hasAttribute('modifier') && ModifierUtil.refresh(el, scheme);\n}; // TODO: FIX\n\n\nutil.updateParentPosition = el => {\n  if (!el._parentUpdated && el.parentElement) {\n    if (window.getComputedStyle(el.parentElement).getPropertyValue('position') === 'static') {\n      el.parentElement.style.position = 'relative';\n    }\n\n    el._parentUpdated = true;\n  }\n};\n\nutil.toggleAttribute = (element, name, value) => {\n  if (value) {\n    element.setAttribute(name, typeof value === 'boolean' ? '' : value);\n  } else {\n    element.removeAttribute(name);\n  }\n};\n\nutil.bindListeners = (element, listenerNames) => {\n  listenerNames.forEach(name => {\n    const boundName = name.replace(/^_[a-z]/, '_bound' + name[1].toUpperCase());\n    element[boundName] = element[boundName] || element[name].bind(element);\n  });\n};\n\nutil.each = (obj, f) => Object.keys(obj).forEach(key => f(key, obj[key]));\n/**\n * @param {Element} target\n * @param {boolean} hasRipple\n * @param {Object} attrs\n */\n\n\nutil.updateRipple = function (target, hasRipple) {\n  let attrs = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n  if (hasRipple === undefined) {\n    hasRipple = target.hasAttribute('ripple');\n  }\n\n  const rippleElement = util.findChild(target, 'ons-ripple');\n\n  if (hasRipple) {\n    if (!rippleElement) {\n      const element = document.createElement('ons-ripple');\n      Object.keys(attrs).forEach(key => element.setAttribute(key, attrs[key]));\n      target.insertBefore(element, target.firstChild);\n    }\n  } else if (rippleElement) {\n    rippleElement.remove();\n  }\n};\n/**\n * @param {String}\n * @return {Object}\n */\n\n\nutil.animationOptionsParse = animationOptionsParse;\n/**\n * @param {*} value\n */\n\nutil.isInteger = value => {\n  return typeof value === 'number' && isFinite(value) && Math.floor(value) === value;\n};\n/**\n * @return {Object} Deferred promise.\n */\n\n\nutil.defer = () => {\n  const deferred = {};\n  deferred.promise = new Promise((resolve, reject) => {\n    deferred.resolve = resolve;\n    deferred.reject = reject;\n  });\n  return deferred;\n};\n/**\n * Show warnings when they are enabled.\n *\n * @param {*} arguments to console.warn\n */\n\n\nutil.warn = function () {\n  if (!internal.config.warningsDisabled) {\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    console.warn(errorPrefix, ...args);\n  }\n};\n\nutil.throw = message => {\n  throw new Error(`${errorPrefix} ${message}`);\n};\n\nutil.throwAbstract = () => util.throw('Cannot instantiate abstract class');\n\nutil.throwMember = () => util.throw('Class member must be implemented');\n\nutil.throwPageLoader = () => util.throw('First parameter should be an instance of PageLoader');\n\nutil.throwAnimator = el => util.throw(`\"Animator\" param must inherit ${el}Animator`);\n\nconst prevent = e => e.cancelable && e.preventDefault();\n/**\n * Prevent scrolling while draging horizontally on iOS.\n *\n * @param {gd} GestureDetector instance\n */\n\n\nutil.iosPreventScroll = gd => {\n  if (util.globals.actualMobileOS === 'ios') {\n    const clean = e => {\n      gd.off('touchmove', prevent);\n      gd.off('dragend', clean);\n    };\n\n    gd.on('touchmove', prevent);\n    gd.on('dragend', clean);\n  }\n};\n/**\n * Prevents scroll in underlying pages on iOS. See #2220 #2274 #1949\n *\n * @param {el} HTMLElement that prevents the events\n * @param {add} Boolean Add or remove event listeners\n */\n\n\nutil.iosPageScrollFix = add => {\n  // Full fix - May cause issues with UIWebView's momentum scroll\n  if (util.globals.actualMobileOS === 'ios') {\n    document.body.classList.toggle('ons-ios-scroll', add); // Allows custom and localized fixes (#2274)\n\n    document.body.classList.toggle('ons-ios-scroll-fix', add);\n  }\n};\n/**\n * Distance and deltaTime filter some weird dragstart events that are not fired immediately.\n *\n * @param {event}\n */\n\n\nutil.isValidGesture = event => event.gesture !== undefined && (event.gesture.distance <= 15 || event.gesture.deltaTime <= 100);\n\nutil.checkMissingImport = function () {\n  for (var _len3 = arguments.length, elementNames = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n    elementNames[_key3] = arguments[_key3];\n  }\n\n  elementNames.forEach(name => {\n    if (!onsElements[name]) {\n      util.throw(`Ons${name} is required but was not imported (Custom Elements)`);\n    }\n  });\n};\n/**\n * Defines a boolean property that reflects an attribute of the same name for a\n * given list of attributes.\n */\n\n\nutil.defineBooleanProperties = (object, attributeList) => {\n  attributeList.forEach(attributeName => {\n    const propertyName = util.camelize(attributeName);\n    Object.defineProperty(object.prototype, propertyName, {\n      get() {\n        return this.hasAttribute(attributeName);\n      },\n\n      set(value) {\n        if (value) {\n          this.setAttribute(attributeName, '');\n        } else {\n          this.removeAttribute(attributeName);\n        }\n      },\n\n      configurable: true\n    });\n  });\n};\n/**\n * Defines a string property that reflects an attribute of the same name for a\n * given list of attributes.\n */\n\n\nutil.defineStringProperties = (object, attributeList) => {\n  attributeList.forEach(attributeName => {\n    const propertyName = util.camelize(attributeName);\n    Object.defineProperty(object.prototype, propertyName, {\n      get() {\n        return this.getAttribute(attributeName);\n      },\n\n      set(value) {\n        if (value === null || value === undefined) {\n          this.removeAttribute(attributeName);\n        } else {\n          this.setAttribute(attributeName, value);\n        }\n      },\n\n      configurable: true\n    });\n  });\n};\n/**\n * Makes a property for a listener e.g. onClick.\n *\n * Returns `onConnected` function which should be called in the element's\n * connectedCallback, and `onDisconnected` function which should be called in\n * the element's disconnectedCallback.\n */\n\n\nutil.defineListenerProperty = (element, eventName) => {\n  const camelized = util.camelize(eventName);\n  const propertyName = 'on' + camelized.charAt(0).toUpperCase() + camelized.slice(1);\n  let handler;\n  Object.defineProperty(element, propertyName, {\n    get() {\n      return handler;\n    },\n\n    set(newHandler) {\n      if (element.isConnected) {\n        if (handler) {\n          element.removeEventListener(eventName, handler);\n        }\n\n        element.addEventListener(eventName, newHandler);\n      }\n\n      handler = newHandler;\n    },\n\n    configurable: true\n  });\n  return {\n    onConnected() {\n      if (element[propertyName]) {\n        element.addEventListener(eventName, element[propertyName]);\n      }\n    },\n\n    onDisconnected() {\n      if (element[propertyName]) {\n        element.removeEventListener(eventName, element[propertyName]);\n      }\n    }\n\n  };\n};\n\nexport default util;","map":{"version":3,"names":["onsElements","styler","internal","autoStyle","ModifierUtil","animationOptionsParse","platform","util","errorPrefix","globals","fabOffset","supportsPassive","_runOnActualPlatform","actualMobileOS","getMobileOS","isWKWebView","opts","Object","defineProperty","get","window","addEventListener","removeEventListener","e","el","name","handler","opt","isGD","capture","prepareQuery","query","Function","element","match","s","matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","call","findChild","i","childNodes","length","node","nodeType","Node","ELEMENT_NODE","findParent","until","parent","parentNode","document","DocumentFragment","isAttached","body","contains","hasAnyComponentAsParent","documentElement","nodeName","toLowerCase","getAllChildNodes","concat","Array","from","children","map","childEl","isPageControl","propagateAction","action","child","camelize","string","replace","m","l","toUpperCase","hyphenate","create","selector","style","classList","split","createElement","shift","className","join","html","wrapper","appendChild","importNode","innerHTML","trim","throw","remove","createFragment","template","content","extend","dst","args","keys","j","key","arrayFrom","arrayLike","prototype","slice","apply","parseJSONObjectSafely","jsonString","failSafe","result","JSON","parse","findFromPath","path","getTopPage","container","tagName","topPage","findToolbarPage","page","_canAnimateToolbar","_contentElement","nextPage","test","triggerElementEvent","target","eventName","detail","event","CustomEvent","bubbles","cancelable","forEach","dispatchEvent","hasModifier","modifierName","hasAttribute","RegExp","getAttribute","addModifier","options","mapModifier","forceAutoStyle","setAttribute","removeModifier","newModifiers","filter","removeAttribute","toggleModifier","force","toggle","restoreClass","defaultClass","scheme","c","add","refresh","updateParentPosition","_parentUpdated","parentElement","getComputedStyle","getPropertyValue","position","toggleAttribute","value","bindListeners","listenerNames","boundName","bind","each","obj","f","updateRipple","hasRipple","attrs","undefined","rippleElement","insertBefore","firstChild","isInteger","isFinite","Math","floor","defer","deferred","promise","Promise","resolve","reject","warn","config","warningsDisabled","console","message","Error","throwAbstract","throwMember","throwPageLoader","throwAnimator","prevent","preventDefault","iosPreventScroll","gd","clean","off","on","iosPageScrollFix","isValidGesture","gesture","distance","deltaTime","checkMissingImport","elementNames","defineBooleanProperties","object","attributeList","attributeName","propertyName","set","configurable","defineStringProperties","defineListenerProperty","camelized","charAt","newHandler","isConnected","onConnected","onDisconnected"],"sources":["C:/React-app/ui/node_modules/onsenui/esm/ons/util.js"],"sourcesContent":["/*\nCopyright 2013-2015 ASIAL CORPORATION\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n\n*/\n\nimport onsElements from './elements.js';\nimport styler from './styler.js';\nimport internal from './internal/index.js';\nimport autoStyle from './autostyle.js';\nimport ModifierUtil from './internal/modifier-util.js';\nimport animationOptionsParse from './animation-options-parser.js';\nimport platform from './platform.js';\n\nconst util = {};\nconst errorPrefix = '[Onsen UI]';\n\nutil.globals = {\n  fabOffset: 0,\n  errorPrefix,\n  supportsPassive: false\n};\n\nplatform._runOnActualPlatform(() => {\n  util.globals.actualMobileOS = platform.getMobileOS();\n  util.globals.isWKWebView = platform.isWKWebView();\n});\n\ntry {\n  const opts = Object.defineProperty({}, 'passive', {\n    get() { util.globals.supportsPassive = true; } // eslint-disable-line getter-return\n  });\n  window.addEventListener('testPassive', null, opts);\n  window.removeEventListener('testPassive', null, opts);\n} catch (e) { null; }\n\n/**\n * @param {Element} el Target\n * @param {String} name Event name\n * @param {Function} handler Event handler\n * @param {Object} [opt] Event options (passive, capture...)\n * @param {Boolean} [isGD] If comes from GestureDetector. Just for testing.\n */\nutil.addEventListener = (el, name, handler, opt, isGD) => {\n  el.addEventListener(name, handler, util.globals.supportsPassive ? opt : (opt || {}).capture);\n};\nutil.removeEventListener = (el, name, handler, opt, isGD) => {\n  el.removeEventListener(name, handler, util.globals.supportsPassive ? opt : (opt || {}).capture);\n};\n\n/**\n * @param {String/Function} query dot class name or node name or matcher function.\n * @return {Function}\n */\nutil.prepareQuery = (query) => {\n  return query instanceof Function ? query : (element) => util.match(element, query);\n};\n\n/**\n * @param {Element} e\n * @param {String/Function} s CSS Selector.\n * @return {Boolean}\n */\nutil.match = (e, s) => (e.matches || e.webkitMatchesSelector || e.mozMatchesSelector || e.msMatchesSelector).call(e, s);\n\n/**\n * @param {Element} element\n * @param {String/Function} query dot class name or node name or matcher function.\n * @return {HTMLElement/null}\n */\nutil.findChild = (element, query) => {\n  const match = util.prepareQuery(query);\n\n  // Caution: `element.children` is `undefined` in some environments if `element` is `svg`\n  for (let i = 0; i < element.childNodes.length; i++) {\n    const node = element.childNodes[i];\n    if (node.nodeType !== Node.ELEMENT_NODE) { // process only element nodes\n      continue;\n    }\n    if (match(node)) {\n      return node;\n    }\n  }\n  return null;\n};\n\n/**\n * @param {Element} element\n * @param {String/Function} query dot class name or node name or matcher function.\n * @return {HTMLElement/null}\n */\nutil.findParent = (element, query, until) => {\n  const match = util.prepareQuery(query);\n\n  let parent = element.parentNode;\n  for (;;) {\n    if (!parent || parent === document || parent instanceof DocumentFragment || (until && until(parent))) {\n      return null;\n    } else if (match(parent)) {\n      return parent;\n    }\n    parent = parent.parentNode;\n  }\n};\n\n/**\n * @param {Element} element\n * @return {boolean}\n */\nutil.isAttached = element => document.body.contains(element);\n\n/**\n * @param {Element} element\n * @return {boolean}\n */\nutil.hasAnyComponentAsParent = (element) => {\n  while (element && document.documentElement !== element) {\n    element = element.parentNode;\n    if (element && element.nodeName.toLowerCase().match(/(ons-navigator|ons-tabbar|ons-modal)/)) {\n      return true;\n    }\n  }\n  return false;\n};\n\n/**\n * @param {Object} element\n * @return {Array}\n */\nutil.getAllChildNodes = (element) => {\n  return [element].concat(\n    ...Array.from(element.children).map(childEl => {\n      return util.getAllChildNodes(childEl);\n    })\n  );\n};\n\n/**\n * @param {Element} element\n * @return {boolean}\n */\nutil.isPageControl = element => element.nodeName.match(/^ons-(navigator|splitter|tabbar|page)$/i);\n\n/**\n * @param {Element} element\n * @param {String} action to propagate\n */\nutil.propagateAction = (element, action) => {\n  for (let i = 0; i < element.childNodes.length; i++) {\n    const child = element.childNodes[i];\n    if (child[action] instanceof Function) {\n      child[action]();\n    } else {\n      util.propagateAction(child, action);\n    }\n  }\n};\n\n/**\n * @param {String} string - string to be camelized\n * @return {String} Camelized string\n */\nutil.camelize = string => string.toLowerCase().replace(/-([a-z])/g, (m, l) => l.toUpperCase());\n\n/**\n * @param {String} string - string to be hyphenated\n * @return {String} Hyphenated string\n */\nutil.hyphenate = string => string.replace(/([a-zA-Z])([A-Z])/g, '$1-$2').toLowerCase();\n\n/**\n * @param {String} selector - tag and class only\n * @param {Object} style\n * @param {Element}\n */\nutil.create = (selector = '', style = {}) => {\n  const classList = selector.split('.');\n  const element = document.createElement(classList.shift() || 'div');\n\n  if (classList.length) {\n    element.className = classList.join(' ');\n  }\n\n  styler(element, style);\n\n  return element;\n};\n\n/**\n * @param {String} html\n * @return {Element}\n */\nutil.createElement = (html) => {\n  const wrapper = document.createElement('div');\n\n  if (html instanceof DocumentFragment) {\n    wrapper.appendChild(document.importNode(html, true));\n  } else {\n    wrapper.innerHTML = html.trim();\n  }\n\n  if (wrapper.children.length > 1) {\n    util.throw('HTML template must contain a single root element');\n  }\n\n  const element = wrapper.children[0];\n  wrapper.children[0].remove();\n  return element;\n};\n\n/**\n * @param {String} html\n * @return {HTMLFragment}\n */\nutil.createFragment = (html) => {\n  const template = document.createElement('template');\n  template.innerHTML = html;\n  return document.importNode(template.content, true);\n};\n\n/*\n * @param {Object} dst Destination object.\n * @param {...Object} src Source object(s).\n * @returns {Object} Reference to `dst`.\n */\nutil.extend = (dst, ...args) => {\n  for (let i = 0; i < args.length; i++) {\n    if (args[i]) {\n      const keys = Object.keys(args[i]);\n      for (let j = 0; j < keys.length; j++) {\n        const key = keys[j];\n        dst[key] = args[i][key];\n      }\n    }\n  }\n\n  return dst;\n};\n\n/**\n * @param {Object} arrayLike\n * @return {Array}\n */\nutil.arrayFrom = (arrayLike) => {\n  return Array.prototype.slice.apply(arrayLike);\n};\n\n/**\n * @param {String} jsonString\n * @param {Object} [failSafe]\n * @return {Object}\n */\nutil.parseJSONObjectSafely = (jsonString, failSafe = {}) => {\n  try {\n    const result = JSON.parse('' + jsonString);\n    if (typeof result === 'object' && result !== null) {\n      return result;\n    }\n  } catch (e) {\n    return failSafe;\n  }\n  return failSafe;\n};\n\n/**\n * @param {String} path - path such as 'myApp.controllers.data.loadData'\n * @return {Any} - whatever is located at that path\n */\nutil.findFromPath = (path) => {\n  path = path.split('.');\n  var el = window, key;\n  while (key = path.shift()) { // eslint-disable-line no-cond-assign\n    el = el[key];\n  }\n  return el;\n};\n\n/**\n * @param {HTMLElement} container - Page or page-container that implements 'topPage'\n * @return {HTMLElement|null} - Visible page element or null if not found.\n */\nutil.getTopPage = container => container && (container.tagName.toLowerCase() === 'ons-page' ? container : container.topPage) || null;\n\n/**\n * @param {HTMLElement} container - Element where the search begins\n * @return {HTMLElement|null} - Page element that contains the visible toolbar or null.\n */\nutil.findToolbarPage = container => {\n  const page = util.getTopPage(container);\n\n  if (page) {\n    if (page._canAnimateToolbar()) {\n      return page;\n    }\n\n    for (let i = 0; i < page._contentElement.children.length; i++) {\n      const nextPage = util.getTopPage(page._contentElement.children[i]);\n      if (nextPage && !/ons-tabbar/i.test(page._contentElement.children[i].tagName)) {\n        return util.findToolbarPage(nextPage);\n      }\n    }\n  }\n\n  return null;\n};\n\n/**\n * @param {Element} element\n * @param {String} eventName\n * @param {Object} [detail]\n * @return {CustomEvent}\n */\nutil.triggerElementEvent = (target, eventName, detail = {}) => {\n\n  const event = new CustomEvent(eventName, {\n    bubbles: true,\n    cancelable: true,\n    detail: detail\n  });\n\n  Object.keys(detail).forEach(key => {\n    event[key] = detail[key];\n  });\n\n  target.dispatchEvent(event);\n\n  return event;\n};\n\n/**\n * @param {Element} target\n * @param {String} modifierName\n * @return {Boolean}\n */\nutil.hasModifier = (target, modifierName) => {\n  if (!target.hasAttribute('modifier')) {\n    return false;\n  }\n\n  return RegExp(`(^|\\\\s+)${modifierName}($|\\\\s+)`, 'i').test(target.getAttribute('modifier'));\n};\n\n/**\n * @param {Element} target\n * @param {String} modifierName\n * @param {Object} options.autoStyle Maps the modifierName to the corresponding styled modifier.\n * @param {Object} options.forceAutoStyle Ignores platform limitation.\n * @return {Boolean} Whether it was added or not.\n */\nutil.addModifier = (target, modifierName, options = {}) => {\n  if (options.autoStyle) {\n    modifierName = autoStyle.mapModifier(modifierName, target, options.forceAutoStyle);\n  }\n\n  if (util.hasModifier(target, modifierName)) {\n    return false;\n  }\n\n  target.setAttribute('modifier', ((target.getAttribute('modifier') || '') + ' ' + modifierName).trim());\n  return true;\n};\n\n/**\n * @param {Element} target\n * @param {String} modifierName\n * @param {Object} options.autoStyle Maps the modifierName to the corresponding styled modifier.\n * @param {Object} options.forceAutoStyle Ignores platform limitation.\n * @return {Boolean} Whether it was found or not.\n */\nutil.removeModifier = (target, modifierName, options = {}) => {\n  if (options.autoStyle) {\n    modifierName = autoStyle.mapModifier(modifierName, target, options.forceAutoStyle);\n  }\n\n  if (!target.getAttribute('modifier') || !util.hasModifier(target, modifierName)) {\n    return false;\n  }\n\n  const newModifiers = target.getAttribute('modifier').split(/\\s+/).filter(m => m && m !== modifierName);\n  newModifiers.length ? target.setAttribute('modifier', newModifiers.join(' ')) : target.removeAttribute('modifier');\n  return true;\n};\n\n/**\n * @param {Element} target\n * @param {String} modifierName\n * @param {Boolean} options.force Forces modifier to be added or removed.\n * @param {Object} options.autoStyle Maps the modifierName to the corresponding styled modifier.\n * @param {Boolean} options.forceAutoStyle Ignores platform limitation.\n * @return {Boolean} Whether it was found or not.\n */\nutil.toggleModifier = (...args) => {\n  const options = args.length > 2 ? args[2] : {};\n  const force = typeof options === 'boolean' ? options : options.force;\n\n  const toggle = typeof force === 'boolean' ? force : !util.hasModifier(...args);\n  toggle ? util.addModifier(...args) : util.removeModifier(...args);\n};\n\n/**\n * @param {Element} el\n * @param {String} defaultClass\n * @param {Object} scheme\n */\nutil.restoreClass = (el, defaultClass, scheme) => {\n  defaultClass.split(/\\s+/).forEach(c => c !== '' && !el.classList.contains(c) && el.classList.add(c));\n  el.hasAttribute('modifier') && ModifierUtil.refresh(el, scheme);\n};\n\n// TODO: FIX\nutil.updateParentPosition = (el) => {\n  if (!el._parentUpdated && el.parentElement) {\n    if (window.getComputedStyle(el.parentElement).getPropertyValue('position') === 'static') {\n      el.parentElement.style.position = 'relative';\n    }\n    el._parentUpdated = true;\n  }\n};\n\nutil.toggleAttribute = (element, name, value) => {\n  if (value) {\n    element.setAttribute(name, typeof value === 'boolean' ? '' : value);\n  } else {\n    element.removeAttribute(name);\n  }\n};\n\nutil.bindListeners = (element, listenerNames) => {\n  listenerNames.forEach(name => {\n    const boundName = name.replace(/^_[a-z]/, '_bound' + name[1].toUpperCase());\n    element[boundName] = element[boundName] || element[name].bind(element);\n  });\n};\n\nutil.each = (obj, f) => Object.keys(obj).forEach(key => f(key, obj[key]));\n\n\n/**\n * @param {Element} target\n * @param {boolean} hasRipple\n * @param {Object} attrs\n */\nutil.updateRipple = (target, hasRipple, attrs = {}) => {\n  if (hasRipple === undefined) {\n    hasRipple = target.hasAttribute('ripple');\n  }\n\n  const rippleElement = util.findChild(target, 'ons-ripple');\n\n  if (hasRipple) {\n    if (!rippleElement) {\n      const element = document.createElement('ons-ripple');\n      Object.keys(attrs).forEach(key => element.setAttribute(key, attrs[key]));\n      target.insertBefore(element, target.firstChild);\n    }\n  } else if (rippleElement) {\n    rippleElement.remove();\n  }\n};\n\n/**\n * @param {String}\n * @return {Object}\n */\nutil.animationOptionsParse = animationOptionsParse;\n\n/**\n * @param {*} value\n */\nutil.isInteger = (value) => {\n  return typeof value === 'number' &&\n    isFinite(value) &&\n    Math.floor(value) === value;\n};\n\n/**\n * @return {Object} Deferred promise.\n */\nutil.defer = () => {\n  const deferred = {};\n  deferred.promise = new Promise((resolve, reject) => {\n    deferred.resolve = resolve;\n    deferred.reject = reject;\n  });\n  return deferred;\n};\n\n/**\n * Show warnings when they are enabled.\n *\n * @param {*} arguments to console.warn\n */\nutil.warn = (...args) => {\n  if (!internal.config.warningsDisabled) {\n    console.warn(errorPrefix, ...args);\n  }\n};\n\nutil.throw = (message) => {\n  throw new Error(`${errorPrefix} ${message}`);\n};\n\nutil.throwAbstract = () => util.throw('Cannot instantiate abstract class');\nutil.throwMember = () => util.throw('Class member must be implemented');\nutil.throwPageLoader = () => util.throw('First parameter should be an instance of PageLoader');\nutil.throwAnimator = (el) => util.throw(`\"Animator\" param must inherit ${el}Animator`);\n\n\nconst prevent = e => e.cancelable && e.preventDefault();\n\n/**\n * Prevent scrolling while draging horizontally on iOS.\n *\n * @param {gd} GestureDetector instance\n */\nutil.iosPreventScroll = gd => {\n  if (util.globals.actualMobileOS === 'ios') {\n    const clean = (e) => {\n      gd.off('touchmove', prevent);\n      gd.off('dragend', clean);\n    };\n\n    gd.on('touchmove', prevent);\n    gd.on('dragend', clean);\n  }\n};\n\n/**\n * Prevents scroll in underlying pages on iOS. See #2220 #2274 #1949\n *\n * @param {el} HTMLElement that prevents the events\n * @param {add} Boolean Add or remove event listeners\n */\nutil.iosPageScrollFix = (add) => { // Full fix - May cause issues with UIWebView's momentum scroll\n  if (util.globals.actualMobileOS === 'ios') {\n    document.body.classList.toggle('ons-ios-scroll', add); // Allows custom and localized fixes (#2274)\n    document.body.classList.toggle('ons-ios-scroll-fix', add);\n  }\n};\n\n/**\n * Distance and deltaTime filter some weird dragstart events that are not fired immediately.\n *\n * @param {event}\n */\nutil.isValidGesture = event => event.gesture !== undefined && (event.gesture.distance <= 15 || event.gesture.deltaTime <= 100);\n\nutil.checkMissingImport = (...elementNames) => {\n  elementNames.forEach(name => {\n    if (!onsElements[name]) {\n      util.throw(`Ons${name} is required but was not imported (Custom Elements)`);\n    }\n  });\n};\n\n/**\n * Defines a boolean property that reflects an attribute of the same name for a\n * given list of attributes.\n */\nutil.defineBooleanProperties = (object, attributeList) => {\n  attributeList.forEach(attributeName => {\n    const propertyName = util.camelize(attributeName);\n    Object.defineProperty(object.prototype, propertyName, {\n      get() {\n        return this.hasAttribute(attributeName);\n      },\n      set(value) {\n        if (value) {\n          this.setAttribute(attributeName, '');\n        } else {\n          this.removeAttribute(attributeName);\n        }\n      },\n      configurable: true\n    });\n  });\n};\n\n/**\n * Defines a string property that reflects an attribute of the same name for a\n * given list of attributes.\n */\nutil.defineStringProperties = (object, attributeList) => {\n  attributeList.forEach(attributeName => {\n    const propertyName = util.camelize(attributeName);\n    Object.defineProperty(object.prototype, propertyName, {\n      get() {\n        return this.getAttribute(attributeName);\n      },\n      set(value) {\n        if (value === null || value === undefined) {\n          this.removeAttribute(attributeName);\n        } else {\n          this.setAttribute(attributeName, value);\n        }\n      },\n      configurable: true\n    });\n  });\n};\n/**\n * Makes a property for a listener e.g. onClick.\n *\n * Returns `onConnected` function which should be called in the element's\n * connectedCallback, and `onDisconnected` function which should be called in\n * the element's disconnectedCallback.\n */\nutil.defineListenerProperty = (element, eventName) => {\n  const camelized = util.camelize(eventName);\n  const propertyName = 'on' + camelized.charAt(0).toUpperCase() + camelized.slice(1);\n\n  let handler;\n  Object.defineProperty(element, propertyName, {\n    get() {\n      return handler;\n    },\n    set(newHandler) {\n      if (element.isConnected) {\n        if (handler) {\n          element.removeEventListener(eventName, handler);\n        }\n        element.addEventListener(eventName, newHandler);\n      }\n\n      handler = newHandler;\n    },\n    configurable: true\n  });\n\n  return {\n    onConnected() {\n      if (element[propertyName]) {\n        element.addEventListener(eventName, element[propertyName]);\n      }\n    },\n\n    onDisconnected() {\n      if (element[propertyName]) {\n        element.removeEventListener(eventName, element[propertyName]);\n      }\n    }\n  };\n};\n\nexport default util;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}